(function(){"use strict";var e={2891:function(e,t,i){var o=i(9242),a=i(3396),n=i(7139);const s={class:"wrapper"},l=(0,a._)("div",{class:"logo"},[(0,a._)("img",{src:"https://cdn.abo.media/upload/article/jzjv9rf5khmrx9xamxgc.jpg",alt:"logo"})],-1),r={class:"container"},c={class:"content"},d={key:0,class:"cards_wrapper"},u=["disabled"],h={key:1,class:"cards_wrapper"};function p(e,t,i,o,p,v){const m=(0,a.up)("card-component"),w=(0,a.up)("card-favorite");return(0,a.wg)(),(0,a.iD)("div",s,[l,(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("button",{type:"button",class:(0,n.C_)(["btn",{active:p.isMain}]),onClick:t[0]||(t[0]=e=>p.isMain=!0)},"Головна",2),(0,a._)("button",{type:"button",class:(0,n.C_)(["btn",{active:!p.isMain}]),onClick:t[1]||(t[1]=(...e)=>v.goToFav&&v.goToFav(...e))},"Обране",2),p.isMain?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=(...e)=>v.addCard&&v.addCard(...e)),disabled:!(p.cards.length<5)},"+",8,u),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.cards,((e,t)=>((0,a.wg)(),(0,a.j4)(m,{key:t,onDeleteEl:e=>v.remove(t),index:t},null,8,["onDeleteEl","index"])))),128))])):((0,a.wg)(),(0,a.iD)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.localCities,((t,i)=>((0,a.wg)(),(0,a.j4)(w,{onRemoveElLocal:e=>v.removeLocal(i),onRefresh:e.renewLocal,item:t,index:i,key:i},null,8,["onRemoveElLocal","onRefresh","item","index"])))),128))]))])])])}i(7658);const v=e=>((0,a.dD)("data-v-c13a0152"),e=e(),(0,a.Cn)(),e),m={class:"head"},w={class:"inputDiv"},C=v((()=>(0,a._)("h3",null,"Місто:  ",-1))),y={class:"head-btns"},_={class:"body"},f={class:"table"},b={class:"chart"},g={class:"modal_text"},k=v((()=>(0,a._)("h2",{class:"modal_text"},"Максимальна кількість обраних міст - 5",-1))),D=v((()=>(0,a._)("p",null,"Видаліть 1 місто зі списку для додавання нового",-1)));function x(e,t,i,o,s,l){const r=(0,a.up)("auto-input"),c=(0,a.up)("Line"),d=(0,a.up)("modal-component");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["item_wrapper",{fav:l.isFav}])},[(0,a._)("div",m,[(0,a._)("div",w,[C,(0,a.Wm)(r,{values:l.cityList,"default-value":l.curCity?.city?l.curCity?.city:s.city,onChooseDrop:l.chooseCity},null,8,["values","default-value","onChooseDrop"])]),(0,a._)("div",y,[l.isFav?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn",onClick:t[0]||(t[0]=(...e)=>l.addToFavorites&&l.addToFavorites(...e))},"До обраного")),(0,a._)("button",{type:"button",class:"btn btn-remove",onClick:t[1]||(t[1]=(...e)=>l.openModal&&l.openModal(...e))},"Видалити")])]),(0,a._)("div",_,[(0,a._)("div",f,[(0,a._)("div",null,[(0,a._)("h3",null,(0,n.zw)(l.curCity?.city.name),1)]),(0,a._)("div",null,[(0,a._)("h4",null,(0,n.zw)(l.curCity?.current?.weather[0].description),1)]),(0,a._)("div",null,"Температура: "+(0,n.zw)(l.curCity?.current?.temp)+" °C",1),(0,a._)("div",null,"Відчувається як: "+(0,n.zw)(l.curCity?.current?.feels_like)+" °C",1),(0,a._)("div",null,"Вологість: "+(0,n.zw)(l.curCity?.current?.humidity)+" %",1),(0,a._)("div",null,"УФ: "+(0,n.zw)(l.curCity?.current?.uvi),1),(0,a._)("div",null,"Точка роси: "+(0,n.zw)(l.curCity?.current?.dew_point)+"°C",1),(0,a._)("div",null,"Видимість: "+(0,n.zw)(l.curCity?.current?.visibility/1e3)+" км",1),(0,a._)("div",null,"Тиск: "+(0,n.zw)(l.curCity?.current?.pressure)+" гПа",1),(0,a._)("div",null,"Швидкість вітру: "+(0,n.zw)(l.curCity?.current?.wind_speed)+" м/с",1)]),(0,a._)("div",b,[(0,a.Wm)(c,{data:l.chartData,options:s.chartOptions},null,8,["data","options"])])]),(0,a.Wm)(d,{isActive:s.show,onCloseModal:l.close},{default:(0,a.w5)((()=>[(0,a._)("h2",g,"Видалити місто "+(0,n.zw)(l.curCity?.city.name)+" з цього списку?",1)])),footer:(0,a.w5)((()=>[(0,a._)("button",{class:"btn btn-remove",type:"button",onClick:t[2]||(t[2]=(...e)=>l.deleteItem&&l.deleteItem(...e))}," Так "),(0,a._)("button",{class:"btn",type:"button",onClick:t[3]||(t[3]=(...e)=>l.close&&l.close(...e))}," Ні ")])),_:1},8,["isActive","onCloseModal"]),(0,a.Wm)(d,{isActive:s.showFav,onCloseModal:l.closeFav},{default:(0,a.w5)((()=>[k,D])),_:1},8,["isActive","onCloseModal"])],2)}var L=i(3944),M=i(5866),z=i(6954);const O={key:0,class:"modal-overlay",ref:"overlay"},I={key:1,class:"modal"},F={class:"modal-content"},E={class:"modal-header"},j=(0,a._)("span",{"aria-hidden":"true"},"×",-1),A=[j],W={class:"modal-body"},$={class:"modal-footer"};function S(e,t,i,o,n,s){return(0,a.wg)(),(0,a.iD)(a.HY,null,[i.isActive?((0,a.wg)(),(0,a.iD)("div",O,null,512)):(0,a.kq)("",!0),i.isActive?((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",F,[(0,a._)("div",E,[(0,a._)("button",{type:"button",class:"close",onClick:t[0]||(t[0]=(...e)=>s.close&&s.close(...e))},A)]),(0,a._)("div",W,[(0,a.WI)(e.$slots,"default")]),(0,a._)("div",$,[(0,a.WI)(e.$slots,"footer")])])])):(0,a.kq)("",!0)],64)}var q={name:"ModalComponent",props:{isActive:Boolean},emits:["closeModal"],methods:{close(){this.$emit("closeModal")}}},T=i(89);const Z=(0,T.Z)(q,[["render",S]]);var N=Z;const H=e=>((0,a.dD)("data-v-1c01b86d"),e=e(),(0,a.Cn)(),e),J={class:"select-wrapper"},R={key:0,class:"drop_item"},V={class:"droped"},Y={class:"droplist"},K=["onClick"],U={key:0,class:"no_matches"},P=H((()=>(0,a._)("span",null,"Не знайдено",-1))),B=[P];function G(e,t,i,s,l,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["main-wrapper",{"open-dropdown":l.shown}])},[(0,a._)("div",J,[(0,a._)("div",{class:"select",readonly:"readonly",onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.show&&r.show(...e)),["stop"]))},[i.defaultValue?((0,a.wg)(),(0,a.iD)("div",R,(0,n.zw)(i.defaultValue.name),1)):(0,a.kq)("",!0),0===i.defaultValue.length?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:1,type:"text",placeholder:"Введіть назву транслітом",class:"search-input","onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e)},null,512)),[[o.nr,l.search]]):(0,a.kq)("",!0)])]),(0,a._)("div",V,[(0,a._)("ul",Y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.filteredList,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,onClick:t=>r.choose(e)},[(0,a._)("span",null,(0,n.zw)(e.name),1)],8,K)))),128)),0===r.filteredList?.length?((0,a.wg)(),(0,a.iD)("li",U,B)):(0,a.kq)("",!0)])])],2)}var Q={name:"AutoInput",props:{defaultValue:Object,values:Array},data(){return{shown:!1,search:""}},methods:{choose(e){this.show(),this.$emit("choose-drop",e),this.search=""},show(){this.shown=!this.shown}},computed:{filteredList(){return this.values?.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase())))}},created(){document.addEventListener("click",this.hide)},beforeUnmount(){document.removeEventListener("click",this.hide)}};const X=(0,T.Z)(Q,[["render",G],["__scopeId","data-v-1c01b86d"]]);var ee=X,te=i(65);z.kL.register(z.Dx,z.u,z.De,z.ZL,z.uw,z.f$,z.jn,z.od);var ie={name:"CardComponent",components:{ModalComponent:N,Line:M.x1,AutoInput:ee},emits:["deleteEl","refresh"],props:{index:{type:Number,required:!0}},data(){return{show:!1,chartOptions:{responsive:!0},city:"",localLength:"",showFav:!1}},computed:{...(0,te.rn)("weather",["cities"]),isFav(){let e=localStorage.getItem("localCities");return e?.includes(JSON.stringify(this.curCity?.city))},curCity(){return this.cities[this.index]},cityList(){return L.filter((e=>"UA"===e.country))},chartData(){let e=[],t=[];return this.cities[this.index]?.hourly?.forEach((i=>{let o=new Date(1e3*i.dt),a=o.getHours(),n=o.getDate(),s=new Date,l=s.getDate();0===Math.abs(l-n)&&(e.push(a+"г"),t.push(i.temp))})),{labels:e,datasets:[{label:"Графік температури до кінця доби",data:t,backgroundColor:"rgb(255, 165, 0)",borderColor:"rgb(255, 165, 0)"}]}}},methods:{...(0,te.nv)("weather",["getWeather"]),openModal(){this.show=!0},close(){this.show=!1},closeFav(){this.showFav=!1},deleteItem(){this.$emit("deleteEl"),this.show=!1},chooseCity(e){this.city=e,this.getWeather({lat:e.lat,lon:e.lng,index:this.index,city:this.city})},addToFavorites(){if(this.curCity?.city){let e=JSON.parse(localStorage.getItem("localCities"))||[];if(5===e.length)return void(this.showFav=!0);if(e.includes(this.curCity?.city))return;e.push(this.city),localStorage.setItem("localCities",JSON.stringify(e))}}}};const oe=(0,T.Z)(ie,[["render",x],["__scopeId","data-v-c13a0152"]]);var ae=oe;const ne={class:"item_wrapper"},se={class:"head"},le={class:"body"},re={class:"table"},ce={class:"chart"},de={class:"modal_text"};function ue(e,t,i,o,s,l){const r=(0,a.up)("Line"),c=(0,a.up)("modal-component");return(0,a.wg)(),(0,a.iD)("div",ne,[(0,a._)("div",se,[(0,a._)("button",{type:"button",class:"btn btn-remove",onClick:t[0]||(t[0]=(...e)=>l.openModalLocal&&l.openModalLocal(...e))},"Видалити")]),(0,a._)("div",le,[(0,a._)("div",re,[(0,a._)("div",null,[(0,a._)("h3",null,(0,n.zw)(i.item.name),1)]),(0,a._)("div",null,[(0,a._)("h4",null,(0,n.zw)(e.localCities[i.index]?.current?.weather[0].description),1)]),(0,a._)("div",null,"Температура: "+(0,n.zw)(e.localCities[i.index]?.current?.temp)+" °C",1),(0,a._)("div",null,"Відчувається як: "+(0,n.zw)(e.localCities[i.index]?.current?.feels_like)+" °C",1),(0,a._)("div",null,"Вологість: "+(0,n.zw)(e.localCities[i.index]?.current?.humidity)+" %",1),(0,a._)("div",null,"УФ: "+(0,n.zw)(e.localCities[i.index]?.current?.uvi),1),(0,a._)("div",null,"Точка роси: "+(0,n.zw)(e.localCities[i.index]?.current?.dew_point)+"°C",1),(0,a._)("div",null,"Видимість: "+(0,n.zw)(e.localCities[i.index]?.current?.visibility/1e3)+" км",1),(0,a._)("div",null,"Тиск: "+(0,n.zw)(e.localCities[i.index]?.current?.pressure)+" гПа",1),(0,a._)("div",null,"Швидкість вітру: "+(0,n.zw)(e.localCities[i.index]?.current?.wind_speed)+" м/с",1)]),(0,a._)("div",ce,[(0,a.Wm)(r,{data:l.chartData,options:s.chartOptions},null,8,["data","options"])])]),(0,a.Wm)(c,{isActive:s.show,onCloseModal:l.close},{default:(0,a.w5)((()=>[(0,a._)("h2",de,"Видалити місто "+(0,n.zw)(i.item.name)+" зі списку обраного?",1)])),footer:(0,a.w5)((()=>[(0,a._)("button",{class:"btn btn-remove",type:"button",onClick:t[1]||(t[1]=(...e)=>l.deleteItem&&l.deleteItem(...e))}," Так "),(0,a._)("button",{class:"btn",type:"button",onClick:t[2]||(t[2]=(...e)=>l.close&&l.close(...e))}," Ні ")])),_:1},8,["isActive","onCloseModal"])])}z.kL.register(z.Dx,z.u,z.De,z.ZL,z.uw,z.f$,z.jn,z.od);var he={name:"CardFavorite",components:{ModalComponent:N,Line:M.x1},props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["removeElLocal"],data(){return{show:!1,chartOptions:{responsive:!0}}},computed:{...(0,te.rn)("weather",["localCities"]),chartData(){let e=[],t=[];return this.localCities[this.index]?.hourly?.forEach((i=>{let o=new Date(1e3*i.dt),a=o.getHours(),n=o.getDate(),s=new Date,l=s.getDate();0===Math.abs(l-n)&&(e.push(a+"г"),t.push(i.temp))})),{labels:e,datasets:[{label:"Графік температури до кінця доби",data:t,backgroundColor:"rgb(255, 165, 0)",borderColor:"rgb(255, 165, 0)"}]}}},methods:{...(0,te.nv)("weather",["getLocalWeather"]),openModalLocal(){this.show=!0},close(){this.show=!1},deleteItem(){this.$emit("removeElLocal"),this.show=!1}},mounted(){this.getLocalWeather({lat:this.item.lat,lon:this.item.lng})}};const pe=(0,T.Z)(he,[["render",ue],["__scopeId","data-v-f934bb46"]]);var ve=pe,me={name:"App",components:{CardComponent:ae,CardFavorite:ve},data(){return{isMain:!0,cards:[{id:0}],confirmRemove:!1,modalIsShown:!1,i:0,localCities:""}},computed:{},methods:{...(0,te.OI)("weather",["addEmpty","delCity"]),addCard(){this.i++,this.cards.push({id:this.i}),this.addEmpty()},remove(e){this.cards.splice(e,1),this.delCity(e)},removeLocal(e){this.localCities.splice(e,1),localStorage.setItem("localCities",JSON.stringify(this.localCities))},goToFav(){this.isMain=!1,this.localCities=JSON.parse(localStorage.getItem("localCities"))}},mounted(){this.addEmpty()}};const we=(0,T.Z)(me,[["render",p]]);var Ce=we,ye=i(4311);const _e=()=>({cities:[],localCities:[]}),fe={addCity(e,{index:t,...i}){e.cities[t]=i},addEmpty(e){e.cities.push(null)},delCity(e,t){e.cities.splice(t,1)},addLocalCity(e,t){e.localCities.push(t)}},be={getWeather(e,{lat:t,lon:i,index:o,city:a}){ye.Z.get(`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${i}&appid=a73b2280087c6d0d7f910c35afe3f75c&lang=uk&units=metric`).then((({data:t})=>{e.commit("addCity",{index:o,city:a,...t})})).catch((e=>{e?.response?.data?.errors?console.error(e.response.data.errors):console.error(e)}))},getLocalWeather(e,{lat:t,lon:i}){ye.Z.get(`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${i}&appid=a73b2280087c6d0d7f910c35afe3f75c&lang=uk&units=metric`).then((({data:t})=>{e.commit("addLocalCity",t)})).catch((e=>{e?.response?.data?.errors?console.error(e.response.data.errors):console.error(e)}))}};var ge={namespaced:!0,state:_e,actions:be,mutations:fe},ke=(0,te.MT)({state:{},getters:{},mutations:{},actions:{},modules:{weather:ge}});(0,o.ri)(Ce).use(ke).mount("#app")}},t={};function i(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,o,a,n){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],n=e[d][2];for(var l=!0,r=0;r<o.length;r++)(!1&n||s>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[r])}))?o.splice(r--,1):(l=!1,n<s&&(s=n));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,a,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,s=o[0],l=o[1],r=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(r)var d=r(i)}for(t&&t(o);c<s.length;c++)n=s[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},o=self["webpackChunkpanda_test"]=self["webpackChunkpanda_test"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(2891)}));o=i.O(o)})();
//# sourceMappingURL=app.6f87db08.js.map